global:
    kolla:
        all:
            kubernetes_entrypoint: true
        glance:
            create_db:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_SERVICE:
                        - mariadb
            manage_db:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_SERVICE:
                        - mariadb
                        DEPENDENCY_JOBS:
                        - glance-create-db
            create_keystone_user:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-service
                        DEPENDENCY_SERVICE:
                        - keystone-admin
            create_keystone_service:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_SERVICE:
                        - keystone-admin
            create_keystone_endpoint_public:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-service
                        - glance-create-keystone-user
                        - glance-create-keystone-endpoint-internal
                        - glance-create-keystone-endpoint-admin
                        DEPENDENCY_SERVICE:
                        - keystone-admin
            create_keystone_endpoint_internal:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-service
                        - glance-create-keystone-user
                        - glance-create-keystone-endpoint-admin
                        DEPENDENCY_SERVICE:
                        - keystone-admin
            create_keystone_endpoint_admin:
                job:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-service
                        - glance-create-keystone-user
                        DEPENDENCY_SERVICE:
                        - keystone-admin
            api:
                deployment:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-endpoint-public
                        - glance-create-keystone-endpoint-internal
                        - glance-create-keystone-endpoint-admin
                        - glance-create-db
                        - glance-manage-db
                        DEPENDENCY_SERVICE:
                        - mariadb
                        - keystone-admin
            registry:
                deployment:
                    kubernetes_entrypoint: true
                    dependencies:
                        DEPENDENCY_JOBS:
                        - glance-create-keystone-endpoint-public
                        - glance-create-keystone-endpoint-internal
                        - glance-create-keystone-endpoint-admin
                        - glance-create-db
                        - glance-manage-db
                        DEPENDENCY_SERVICE:
                        - mariadb
                        - keystone-admin
