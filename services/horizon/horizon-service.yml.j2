apiVersion: v1
kind: Service
spec:
  ports:
    - port: http
      targetPort: 80
      name: http
{%- if horizon_http_nodeport is defined %}
      nodePort: {{ horizon_http_nodeport }}
  type: NodePort
{%- endif %}
    - port: https
      targetPort: 443
      name: https
{%- if horizon_https_nodeport is defined %}
      nodePort: {{ horizon_https_nodeport }}
  type: NodePort
{%- endif %}
{%- if horizon_http_nodeport is undefined %}
{%- if horizon_https_nodeport is undefined %}
  externalIPs:
    - {{ kolla_kubernetes_external_vip }}
{%- endif %}
{%- endif %}
  selector:
    service: horizon 
metadata:
   name: horizon
   namespace: {{ kolla_kubernetes_namespace }}
